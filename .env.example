# =============================================================================
# Onsembl.ai Agent Control Center - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in the actual values
# Do not commit .env files to version control

# =============================================================================
# Application Environment
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info

# =============================================================================
# Server Configuration
# =============================================================================
# Backend Fastify Server
BACKEND_HOST=localhost
BACKEND_PORT=3001
BACKEND_BASE_URL=http://localhost:3001

# Frontend Next.js
FRONTEND_HOST=localhost
FRONTEND_PORT=3000
FRONTEND_BASE_URL=http://localhost:3000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# Supabase Configuration
# =============================================================================
# Get these from your Supabase project dashboard at https://app.supabase.com
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Database connection (optional - Supabase provides this via URL)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# Redis/Upstash Configuration (for BullMQ queues)
# =============================================================================
# Get these from your Upstash Redis dashboard at https://console.upstash.com
REDIS_URL=rediss://default:your-password@your-region.upstash.io:6380
REDIS_HOST=your-region.upstash.io
REDIS_PORT=6380
REDIS_PASSWORD=your-password
REDIS_TLS=true

# =============================================================================
# JWT Configuration
# =============================================================================
# Generate strong secrets for JWT tokens (use openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-signing-key-here
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-here
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# AI Agent API Keys
# =============================================================================
# Claude (Anthropic)
ANTHROPIC_API_KEY=sk-ant-api03-...

# OpenAI (Codex, GPT)
OPENAI_API_KEY=sk-...

# Google AI (Gemini)
GOOGLE_AI_API_KEY=AIza...
GOOGLE_PROJECT_ID=your-google-cloud-project-id

# =============================================================================
# WebSocket Configuration
# =============================================================================
# WebSocket server settings
WS_PORT=3002
WS_HOST=localhost
WS_MAX_CONNECTIONS=100
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=60000

# Message size limits (in bytes)
WS_MAX_MESSAGE_SIZE=1048576
WS_MAX_FRAME_SIZE=1048576

# =============================================================================
# Queue Configuration
# =============================================================================
# BullMQ queue settings
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5000
QUEUE_REMOVE_ON_COMPLETE=10
QUEUE_REMOVE_ON_FAIL=10

# Queue names
COMMAND_QUEUE_NAME=agent-commands
TRACE_QUEUE_NAME=llm-traces

# =============================================================================
# Security Configuration
# =============================================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Session configuration
SESSION_SECRET=your-session-secret-here
SESSION_MAX_AGE=86400000

# CSRF protection
CSRF_SECRET=your-csrf-secret-here

# =============================================================================
# Agent Configuration
# =============================================================================
# Maximum number of concurrent agents
MAX_CONCURRENT_AGENTS=10

# Agent timeout settings (in milliseconds)
AGENT_RESPONSE_TIMEOUT=30000
AGENT_COMMAND_TIMEOUT=300000

# Agent wrapper paths (if using local wrappers)
CLAUDE_WRAPPER_PATH=/usr/local/bin/claude-wrapper
GEMINI_WRAPPER_PATH=/usr/local/bin/gemini-wrapper
CODEX_WRAPPER_PATH=/usr/local/bin/codex-wrapper

# =============================================================================
# Monitoring and Observability
# =============================================================================
# Enable detailed logging
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_TRACKING=true
ENABLE_PERFORMANCE_MONITORING=true

# External monitoring services (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key

# =============================================================================
# File Storage Configuration
# =============================================================================
# Local file storage paths
UPLOAD_DIR=./uploads
TEMP_DIR=./tmp
LOG_DIR=./logs

# File size limits (in bytes)
MAX_FILE_SIZE=10485760
MAX_FILES_PER_REQUEST=10

# =============================================================================
# Email Configuration (optional)
# =============================================================================
# For notifications and alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@onsembl.ai

# =============================================================================
# Development Tools
# =============================================================================
# Enable development features
ENABLE_SWAGGER_UI=true
ENABLE_GRAPHQL_PLAYGROUND=true
ENABLE_DEBUG_LOGS=true

# Hot reload settings
ENABLE_HOT_RELOAD=true
WATCH_FILES=true

# =============================================================================
# Testing Configuration
# =============================================================================
# Test database (use different from production)
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/onsembl_test
TEST_REDIS_URL=redis://localhost:6379/1

# Playwright testing
PLAYWRIGHT_BROWSER=chromium
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_BASE_URL=http://localhost:3000

# =============================================================================
# Frontend Public Variables (prefixed with NEXT_PUBLIC_)
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3002
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================================================
# Production Overrides
# =============================================================================
# These should be set in production environment
# BACKEND_BASE_URL=https://api.onsembl.ai
# FRONTEND_BASE_URL=https://app.onsembl.ai
# NODE_ENV=production
# LOG_LEVEL=warn