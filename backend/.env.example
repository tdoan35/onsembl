# Onsembl.ai Backend Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# Database Configuration
# ==========================================

# Option 1: Supabase (Recommended)
# Local Supabase (development)
SUPABASE_URL=http://localhost:54321
SUPABASE_ANON_KEY=your-anon-key-from-supabase-status
SUPABASE_SERVICE_KEY=your-service-key-from-supabase-status

# Cloud Supabase (production)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-production-anon-key
# SUPABASE_SERVICE_KEY=your-production-service-key

# Option 2: Direct PostgreSQL Connection
# DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ==========================================
# Redis Configuration (for command queues)
# ==========================================
REDIS_URL=redis://localhost:6379

# For Upstash (cloud Redis)
# REDIS_URL=rediss://default:password@endpoint.upstash.io:6379

# ==========================================
# Authentication
# ==========================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ==========================================
# Server Configuration
# ==========================================
NODE_ENV=development
PORT=3010
HOST=0.0.0.0
LOG_LEVEL=debug

# API Configuration
API_URL=http://localhost:3010
CORS_ORIGIN=http://localhost:3000

# ==========================================
# WebSocket Configuration
# ==========================================
WS_MAX_PAYLOAD=1048576
WS_MAX_CONNECTIONS=100
WS_HEARTBEAT_INTERVAL=30000

# ==========================================
# Agent Configuration
# ==========================================
AGENT_TIMEOUT=300000
AGENT_MAX_RETRIES=3
AGENT_CONNECTION_TIMEOUT=10000

# ==========================================
# Queue Configuration
# ==========================================
QUEUE_CONCURRENCY=5
QUEUE_MAX_JOBS=100
QUEUE_JOB_TIMEOUT=300000

# ==========================================
# Monitoring & Observability
# ==========================================
HEALTH_CHECK_INTERVAL=60000
METRICS_ENABLED=false
TRACING_ENABLED=false

# For production monitoring
# SENTRY_DSN=https://your-sentry-dsn
# NEW_RELIC_LICENSE_KEY=your-new-relic-key

# ==========================================
# Feature Flags
# ==========================================
ENABLE_AUDIT_LOG=true
ENABLE_COMMAND_PRESETS=true
ENABLE_TRACE_COLLECTION=true

# ==========================================
# External Services (Optional)
# ==========================================
# OPENAI_API_KEY=your-openai-key
# ANTHROPIC_API_KEY=your-anthropic-key
# GOOGLE_AI_API_KEY=your-google-ai-key

# ==========================================
# Development Tools (Optional)
# ==========================================
# NGROK_AUTHTOKEN=your-ngrok-token
# LOCALTUNNEL_SUBDOMAIN=your-subdomain

# ==========================================
# Notes
# ==========================================
# 1. Never commit this file with real values
# 2. Generate secure secrets with: openssl rand -base64 32
# 3. In production, use environment variables or secret management
# 4. Different values should be used for dev/staging/prod
# 5. Rotate secrets regularly in production